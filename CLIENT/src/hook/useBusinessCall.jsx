// // hooks/useBusinessCall.jsx (DOÄžRU VE SADELEÅžTÄ°RÄ°LMÄ°Åž HALÄ°)

// import { useDispatch,useSelector  } from "react-redux";
// import { useCallback } from "react";
// import useAxios from "./useAxios";
// import { toastErrorNotify, toastSuccessNotify } from "../helper/ToastNotify";
// import {
//   fetchStart,
//   fetchFail,
//   getBusinessesSuccess,
//   getBusinessDetailSuccess,
// } from "../features/crudSlice"; // YazÄ±m hatasÄ± dÃ¼zeltildi

// // Hook adÄ±ndaki yazÄ±m hatasÄ± dÃ¼zeltildi
// const useBusinessCall = () => {
//   const dispatch = useDispatch();
//   const { axiosWithToken } = useAxios();
//   const { token } = useSelector((state) => state.auth);
// console.log("ðŸ’¡ 1. FRONTEND: Hook'taki token mevcut mu?", { token });

//   const getBusinesses = useCallback(async () => {
//   console.log("Token:", token); // Debug iÃ§in
//   dispatch(fetchStart());
//   try {
//     const { data } = await axiosWithToken.get("businesses");
//     dispatch(getBusinessesSuccess(data.result));
//   } catch (error) {
//     console.error("API Error:", error.response?.data); // Debug iÃ§in
//     dispatch(fetchFail());
//     toastErrorNotify("Ä°ÅŸletmeler Ã§ekilemedi.");
//   }
// }, [dispatch, axiosWithToken, token]); // token'Ä± dependency'e ekleyin

//   const getBusinessDetail = useCallback(async (id) => {
//     dispatch(fetchStart());
//     try {
//       const { data } = await axiosWithToken.get(`businesses/${id}`);
//       dispatch(getBusinessDetailSuccess(data.result));
//     } catch (error) {
//       dispatch(fetchFail());
//       toastErrorNotify("Ä°ÅŸletme detayÄ± Ã§ekilemedi.");
//     }
//   }, [dispatch, axiosWithToken]);

//   // DÃœZELTME: Bu fonksiyonlar artÄ±k getBusinesses'a baÄŸÄ±mlÄ± deÄŸil.
//   // BaÅŸarÄ±lÄ± olduklarÄ±nda, listeyi yenilemek iÃ§in getBusinesses'Ä± kendileri Ã§aÄŸÄ±rÄ±r.
//   // Bu, useCallback baÄŸÄ±mlÄ±lÄ±k zincirini kÄ±rar ve dÃ¶ngÃ¼yÃ¼ Ã¶nler.
  
//   const createBusiness = async (businessInfo) => {
//     dispatch(fetchStart());
//     try {
//       await axiosWithToken.post("businesses", businessInfo);
//       toastSuccessNotify("Ä°ÅŸletme baÅŸarÄ±yla oluÅŸturuldu.");
//       getBusinesses(); // Liste'yi yenile
//     } catch (error) {
//       dispatch(fetchFail());
//       toastErrorNotify("Ä°ÅŸletme oluÅŸturulamadÄ±.");
//     }
//   };

//   const updateBusiness = async (businessInfo) => {
//     dispatch(fetchStart());
//     try {
//       await axiosWithToken.put(`businesses/${businessInfo._id}`, businessInfo);
//       toastSuccessNotify("Ä°ÅŸletme baÅŸarÄ±yla gÃ¼ncellendi.");
//       getBusinesses(); // Liste'yi yenile
//     } catch (error) {
//       dispatch(fetchFail());
//       toastErrorNotify("Ä°ÅŸletme gÃ¼ncellenemedi.");
//     }
//   };
  
//   const deleteBusiness = async (id) => {
//     dispatch(fetchStart());
//     try {
//       await axiosWithToken.delete(`businesses/${id}`);
//       toastSuccessNotify("Ä°ÅŸletme baÅŸarÄ±yla silindi.");
//       getBusinesses(); // Liste'yi yenile
//     } catch (error) {
//       dispatch(fetchFail());
//       toastErrorNotify("Ä°ÅŸletme silinemedi.");
//     }
//   };

//   return {
//     getBusinesses,
//     getBusinessDetail,
//     createBusiness,
//     updateBusiness,
//     deleteBusiness,
//   };
// };

// export default useBusinessCall;